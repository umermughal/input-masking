var InputMask=function(t){t&&t.masked&&(t.masked="string"==typeof t.masked?document.querySelectorAll(t.masked):t.masked),t?this.opts={masked:t.masked||document.querySelectorAll(this.d.masked),mNum:t.mNum||this.d.mNum,mChar:t.mChar||this.d.mChar,error:t.onError||this.d.onError}:(this.opts=this.d,this.opts.masked=document.querySelectorAll(this.opts.masked)),this.refresh(!0)},inputMask={d:{masked:".masked",mNum:"XdDmMyY9",mChar:"_",onError:function(){}},refresh:function(t){var e,a;for(t||(this.opts.masked=document.querySelectorAll(this.opts.masked)),i=0;i<this.opts.masked.length;i++)(!(a=(e=this.opts.masked[i]).parentNode.getAttribute("class"))||a&&-1===a.indexOf("shell"))&&(this.createShell(e),this.activateMasking(e),e.value&&(e.previousSibling.innerHTML=this._setValueOfMask(e.value,e.getAttribute("data-placeholder"))))},createShell:function(t){var e=document.createElement("span"),a=document.createElement("span"),r=document.createElement("i"),s=t.getAttribute("class"),n=t.getAttribute("placeholder"),i=document.createTextNode(n);t.setAttribute("maxlength",i.length),t.setAttribute("data-placeholder",n),t.removeAttribute("placeholder"),(!s||s&&-1===s.indexOf("masked"))&&t.setAttribute("class",s+" masked"),a.setAttribute("aria-hidden","true"),a.setAttribute("id",t.getAttribute("id")+"Mask"),a.appendChild(r),a.appendChild(i),e.setAttribute("class","shell"),e.appendChild(a),t.parentNode.insertBefore(e,t),e.appendChild(t)},setValueOfMask:function(t){var e=t.target.value,a=t.target.getAttribute("data-placeholder");return this._setValueOfMask(e,a)},_setValueOfMask:function(t,e){return"<i>"+t+"</i>"+e.substr(t.length)},activateMasking:function(t){var e=this;t.addEventListener?t.addEventListener("keyup",function(t){e.handleValueChange.call(e,t)},!1):t.attachEvent&&t.attachEvent("onkeyup",function(t){t.target=t.srcElement,e.handleValueChange.call(e,t)})},handleValueChange:function(t){var e=t.target.getAttribute("id");t.target.value!=document.querySelector("#"+e+"Mask i").innerHTML&&(document.getElementById(e).value=this.handleCurrentValue(t),document.getElementById(e+"Mask").innerHTML=this.setValueOfMask(t))},handleCurrentValue:function(t){var e,a,r,s,n,i=t.target.getAttribute("data-charset"),u=i||t.target.getAttribute("data-placeholder"),l=t.target.value,d=u.length,o="";for(n=i?l.replace(/\W/g,""):l.replace(/\D/g,""),e=0,a=0;e<d;e++){if(r=!isNaN(parseInt(n[a])),s=!!n[a]&&n[a].match(/[A-Z]/i),matchesNumber=this.opts.mNum.indexOf(u[e])>=0,matchesLetter=this.opts.mChar.indexOf(u[e])>=0,matchesNumber&&r||i&&matchesLetter&&s)o+=n[a++];else{if(!i&&!r&&matchesNumber||i&&(matchesLetter&&!s||matchesNumber&&!r))return o;o+=u[e]}if(void 0==n[a])break}return t.target.getAttribute("data-valid-example")?this.validateProgress(t,o):o},validateProgress:function(t,e){var a=t.target.getAttribute("data-valid-example"),r=new RegExp(t.target.getAttribute("pattern")),s=t.target.getAttribute("data-placeholder"),n=e.length,u="";if(1==n&&"MM"==s.toUpperCase().substr(0,2))return e>1&&e<10&&(e="0"+e),e;for(i=n;i>=0;i--){if(u=e+a.substr(e.length),r.test(u))return e;e=e.substr(0,e.length-1)}return e}};for(var property in inputMask)inputMask.hasOwnProperty(property)&&(InputMask.prototype[property]=inputMask[property]);!function(){var t=document.getElementsByTagName("script");t[t.length-1].getAttribute("data-autoinit")&&new InputMask}();